---
title: "Interfaces graphiques avec R et `shiny`"
subtitle: "1 - Les concepts de base de shiny"
author: "Robin Cura, Hélène Mathian & Lise Vaudor<br/>d'après L. Vaudor : <u><a href='https://github.com/lvaudor/support_shiny'>Formation shiny (2018)</a></u>"
date: ["16/10/2018<br/><br /> École Thématique GeoViz 2018 "]
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", "style.css"]
    nature:
        beforeInit: "macros.js"
        highlightLines: true
editor_options: 
  chunk_output_type: console
---
```{r xaringan-themer, include = FALSE}
library(xaringan)
library(xaringanthemer) # devtools::install_github("gadenbuie/xaringanthemer")
duo(
  primary_color = "#1F4257",
  secondary_color = "#F97B64",
  header_font_google = google_font("Josefin Sans"),
  text_font_google   = google_font("Montserrat", "300", "300i"),
  code_font_google   = google_font("Droid Mono")
)
library(knitr)
opts_chunk$set(cache = TRUE,
               cache.lazy = FALSE)
hook_source <- knitr::knit_hooks$get('source')
knitr::knit_hooks$set(source = function(x, options) {
  x <- stringr::str_replace(x, "^[[:blank:]]?([^*].+?)[[:blank:]]*#<<[[:blank:]]*$", "*\\1")
  hook_source(x, options)
})
```

## Shiny : concepts
  
- On repart de l'application de base de shiny (création d'une nouvelle appli) qu'on complexifie un tout petit peu pour l'adapter aux données Communes

    - ui/server
    - ui : input
    - ui : output
    - server : input
    - server : output
    - server : reactive()
    - server : observe()
    - server : updateInput()
    - mettre un leaflet + leafletProxy()
    - mettre un ggplotly()